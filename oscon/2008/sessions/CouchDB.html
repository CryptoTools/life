
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>RDoc Documentation</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
</head>
<body>
<h2>File: CouchDB.rdoc</h2>
<table>
  <tr><td>Path:</td><td>CouchDB.rdoc</td></tr>
  <tr><td>Modified:</td><td>Wed Jul 23 12:16:55 -0700 2008</td></tr>
</table>

<h1>OSCON 2008 Session 1: CouchDB</h1>
<h2>RDBMS</h2>
<ul>
<li>CouchDB is not a relational database.

</li>
<li>Usually you design a schema up front

</li>
</ul>
<h2>What is CouchDB</h2>
<ul>
<li>Stores <b>Documents</b> (individual data records)

</li>
<li><em>No Schema!</em>

</li>
<li>Columns containing NULL don&#8216;t make sense

<ul>
<li>&quot;My Business card doesn&#8216;t have &#8216;Fax Number:&#8217; and
then NULL&quot;

</li>
</ul>
</li>
<li>Natural data behavior

</li>
</ul>
<h2>Documents</h2>
<ul>
<li>Store your document data in a JSON string.

</li>
<li>Talked about how Ruby is basically JSON compatible with no translations

</li>
<li>XML Sucks.

</li>
</ul>
<p>
Short example:
</p>
<pre>
  {
    &quot;_id&quot;:&quot;223BDCD&quot;,
    &quot;_rev&quot;:&quot;834BC&quot;,
    &quot;age&quot;:54,
    &quot;name&quot;:&quot;Darth Vader&quot;,
  ...
  }
</pre>
<ul>
<li>Revision allows you to fetch the document, write a new copy, and save it as
the latest revision of the document. This allows you to turn back time per
database row!

</li>
</ul>
<h2>How do I talk to it?</h2>
<h3>HTTP REST API</h3>
<ul>
<li>Create: HTTP PUT /db/docid

</li>
<li>Read: HTTP GET /db/docid

</li>
<li>Update: HTTP POST /db/docid

</li>
<li>Delete: HTTP DELE /db/docid

</li>
<li>The ID does not have to be generated by the user. Just don&#8216;t provide
one. If you provide one, it has to be a string.

</li>
<li>JSON doesn&#8216;t deal with binary data, you have to BASE64 encoding.
There apparently is some other way to handle it.

</li>
<li>If you don&#8216;t have well-formed JSON, all calls will result in an
error. They don&#8216;t have a way to specify a way to enforce writes.

</li>
<li>Type integrity checking: They don&#8216;t care.

</li>
<li>Is there a way to get a document using something other than an id? Yes.

</li>
</ul>
<p>
There are 2 more features that make Couch really cool:
</p>
<h2>Views</h2>
<ul>
<li>Filter, Collate, Aggregate

</li>
<li>Powered by map/reduce! (They improved it a little bit!)

</li>
<li>Views are built incrementally and on demand. Reduction is optional.

</li>
<li>Sends diffs around to sync db data. <b>VERY FAST!</b>

</li>
<li>No write penalty with views.

</li>
<li>The view is simply the result of a map/reduce function stored in a btree.

</li>
</ul>
<h3>Example: Tag Cloud</h3>
<ul>
<li>We have a db full of tagged documents

</li>
<li>We must know how often each tag appears

</li>
<li>Use map/reduce!

</li>
<li>Works well since it&#8216;s in Erlang, which can be massively parallel

</li>
</ul>
<h2>Replication</h2>
<ul>
<li>CouchDB was originally designed for an offline replication of your
database.

</li>
<li>Replication works a lot like rsync

</li>
<li>They don&#8216;t use auto_increment

</li>
<li>Full new revisions of documents, not partial changes.

</li>
</ul>
<h2>Built for the future</h2>
<ul>
<li>Written in Erlang.

</li>
<li>Non-locking MVCC and ACID compliant data store

<ul>
<li>No locking of the data store ever

</li>
</ul>
</li>
<li>Damien Katz invented it. Self-funded fulltime development for 2 years.

</li>
<li>Now it&#8216;s backed by IBM.

</li>
</ul>







<h2>Classes</h2>
</body>
</html>
Files:   1
Classes: 0
Modules: 0
Methods: 0
Elapsed: 0.154s
